<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DEIS - Pure Luxury Space</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- React y Babel -->
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
        /* Tipografía Michroma para el look Luxury/Space */
        @import url('https://fonts.googleapis.com/css2?family=Michroma&display=swap');

        body { 
            background-color: black; 
            margin: 0; 
            overflow: hidden; 
            font-family: 'Michroma', sans-serif;
            color: white;
        }

        /* Firmamento Estrellado */
        @keyframes blink-star {
            0%, 100% { opacity: 0; transform: scale(0.5); }
            50% { opacity: 0.8; transform: scale(1.1); }
        }

        /* Parpadeo constante de la fotografía */
        @keyframes photo-blink {
            0%, 100% { opacity: 1; filter: brightness(1); }
            50% { opacity: 0.7; filter: brightness(1.2); }
        }
        .animate-photo-blink {
            animation: photo-blink 4s infinite ease-in-out;
        }

        /* --- LÓGICA DE TARJETA REPLICADA DE KENZA.HTML --- */
        .card-wrapper {
            position: relative;
            padding: 2px; /* Grosor del borde */
            border-radius: 2rem;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 0 50px rgba(255, 255, 255, 0.05);
        }

        /* Animación de rotación del borde en blanco y negro */
        .card-wrapper::before {
            content: '';
            position: absolute;
            width: 200%;
            height: 200%;
            /* Degradado cónico en blanco y negro */
            background: conic-gradient(
                from 0deg, 
                transparent 20%, 
                #000 40%, 
                #fff 50%, 
                #000 60%, 
                transparent 80%
            );
            animation: rotateWave 4s linear infinite;
        }

        @keyframes rotateWave {
            to { transform: rotate(360deg); }
        }

        .glass-card {
            background: rgba(0, 0, 0, 0.9);
            backdrop-filter: blur(10px);
            border-radius: 1.9rem;
            width: 100%;
            padding: 3rem 2rem;
            text-align: center;
            position: relative;
            z-index: 10;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 2rem;
        }

        /* --- EFECTOS RÍTMICOS --- */
        @keyframes trap-main-pulse {
            0%, 100% { transform: scale(1); }
            5% { transform: scale(1.06); filter: brightness(1.1); }
            15% { transform: scale(1); }
            20% { transform: scale(1.02); }
        }
        .animate-trap-main {
            animation: trap-main-pulse 0.45s infinite cubic-bezier(0.2, 0, 0.1, 1);
        }

        /* Borde rítmico de la foto sincronizado con el beat */
        @keyframes border-glow-rhythm {
            0%, 100% { border-color: rgba(255, 255, 255, 0.1); }
            5% { border-color: white; box-shadow: 0 0 20px rgba(255, 255, 255, 0.3); }
        }
        .animate-border-rhythm {
            animation: border-glow-rhythm 0.45s infinite cubic-bezier(0.2, 0, 0.1, 1);
        }

        /* Visualizador de sonido */
        @keyframes sound-bar-anim {
            0%, 100% { height: 4px; opacity: 0.3; }
            50% { height: 26px; opacity: 1; }
        }
        .sound-bar {
            width: 3px;
            background-color: white;
            border-radius: 1px;
            margin: 0 1px;
        }

        /* Animaciones de carga */
        .animate-fade-in { animation: fadeIn 2s forwards; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        .animate-fade-in-up { animation: fadeInUp 1.2s cubic-bezier(0.23, 1, 0.32, 1) forwards; }
        @keyframes fadeInUp { from { opacity: 0; transform: translateY(30px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        const IconMusic = ({ className }) => (
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="1" className={className}>
                <path d="M9 18V5l12-2v13" /><circle cx="6" cy="18" r="3" /><circle cx="18" cy="16" r="3" />
            </svg>
        );

        const SoundVisualizer = ({ active }) => {
            const bars = Array.from({ length: 30 });
            return (
                <div className="flex items-end justify-center h-8 gap-[2px]">
                    {bars.map((_, i) => (
                        <div 
                            key={i} 
                            className="sound-bar"
                            style={{
                                animation: active 
                                    ? `sound-bar-anim ${0.3 + Math.random() * 0.5}s infinite ease-in-out` 
                                    : 'none',
                                animationDelay: `${i * 0.02}s`
                            }}
                        />
                    ))}
                </div>
            );
        };

        const App = () => {
            const [hasEntered, setHasEntered] = useState(false);
            const [isPlaying, setIsPlaying] = useState(false);
            const [isPlayerExpanded, setIsPlayerExpanded] = useState(false);
            const [stars, setStars] = useState([]);
            const audioRef = useRef(null);

            useEffect(() => {
                const starCount = 200;
                const newStars = Array.from({ length: starCount }).map((_, i) => ({
                    id: i,
                    left: `${Math.random() * 100}%`,
                    top: `${Math.random() * 100}%`,
                    size: Math.random() * 1.5 + 0.5,
                    delay: Math.random() * 5,
                    duration: 3 + Math.random() * 5,
                }));
                setStars(newStars);
            }, []);

            const playAudio = async () => {
                if (audioRef.current) {
                    try {
                        await audioRef.current.play();
                        setIsPlaying(true);
                    } catch (err) {
                        setIsPlaying(false);
                    }
                }
            };

            const handleEnter = () => {
                setHasEntered(true);
                playAudio();
            };

            const togglePlay = () => {
                if (isPlaying) {
                    audioRef.current.pause();
                    setIsPlaying(false);
                } else {
                    playAudio();
                }
            };

            return (
                <div className="min-h-screen bg-black text-white flex flex-col items-center justify-center relative overflow-hidden select-none">
                    <audio ref={audioRef} src="musica.mp3" loop />

                    {/* Estrellas de fondo */}
                    <div className="absolute inset-0 z-0 pointer-events-none">
                        {stars.map((star) => (
                            <div key={star.id} className="absolute bg-white rounded-full opacity-0"
                                style={{
                                    left: star.left, top: star.top, width: `${star.size}px`, height: `${star.size}px`,
                                    animation: `blink-star ${star.duration}s infinite ${star.delay}s`,
                                }}
                            />
                        ))}
                    </div>

                    {!hasEntered ? (
                        /* INTRO LUXURY */
                        <div className="relative z-20 flex flex-col items-center space-y-12 animate-fade-in px-4">
                            <h1 className="text-7xl md:text-9xl font-normal tracking-[0.4em] text-center uppercase text-white">
                                DEIS
                            </h1>
                            <button onClick={handleEnter} className="px-16 py-6 border border-white/30 font-bold text-[10px] tracking-[0.6em] uppercase hover:border-white hover:bg-white hover:text-black transition-all duration-700">
                                Enter System
                            </button>
                        </div>
                    ) : (
                        /* CONTENIDO PRINCIPAL CON TARJETA ESTILO KENZA */
                        <div className="relative z-10 flex flex-col items-center animate-fade-in-up w-full max-w-lg px-4">
                            
                            <div className="card-wrapper w-full">
                                <div className="glass-card">
                                    
                                    {/* Nombre Blanco Minimalista */}
                                    <h1 className="text-4xl md:text-6xl font-normal tracking-[0.5em] text-center uppercase text-white mb-2">
                                        DEIS
                                    </h1>

                                    {/* Foto Cuadrada con Parpadeo */}
                                    <div className={`relative w-64 h-64 md:w-72 md:h-72 border-[1px] transition-all duration-700 overflow-hidden bg-zinc-950 animate-photo-blink ${isPlaying ? 'animate-trap-main animate-border-rhythm border-white' : 'border-white/10'}`}>
                                        <img src="https://xatimg.com/image/fx2VKgs21uNd.jpg" alt="Deis" className="w-full h-full object-cover grayscale-[30%] hover:grayscale-0 transition-all duration-1000" />
                                    </div>

                                    {/* Visualizador de Barras de Sonido */}
                                    <div className="w-full">
                                        <SoundVisualizer active={isPlaying} />
                                    </div>
                                    
                                </div>
                            </div>
                        </div>
                    )}

                    {/* Reproductor Inferior */}
                    {hasEntered && (
                        <div className={`fixed bottom-10 left-10 z-50 transition-all duration-1000 ${isPlayerExpanded ? 'w-72' : 'w-16'}`}>
                            <div className="bg-white/[0.02] backdrop-blur-3xl border border-white/5 rounded-none overflow-hidden shadow-2xl">
                                <div className="flex items-center p-5 cursor-pointer justify-between" onClick={() => setIsPlayerExpanded(!isPlayerExpanded)}>
                                    <div className="flex items-center gap-5">
                                        <div className={`p-1.5 border border-white/10 ${isPlaying ? 'animate-spin-slow text-white' : 'text-white/10'}`}>
                                            <IconMusic className="w-4 h-4" />
                                        </div>
                                        {isPlayerExpanded && (
                                            <div className="flex flex-col animate-fade-in text-white">
                                                <span className="text-[7px] uppercase tracking-[0.4em] text-white/30 font-bold mb-1">Signal Active</span>
                                                <span className="text-[9px] font-bold tracking-[0.2em] truncate uppercase">Alessia Cara - Here</span>
                                            </div>
                                        )}
                                    </div>
                                </div>
                                {isPlayerExpanded && (
                                    <div className="px-6 pb-8 space-y-8 animate-fade-in">
                                        <div className="flex items-center justify-center">
                                            <button onClick={(e) => { e.stopPropagation(); togglePlay(); }} className="w-14 h-14 border border-white/5 flex items-center justify-center hover:bg-white hover:text-black transition-all">
                                                {isPlaying ? (
                                                    <svg viewBox="0 0 24 24" fill="currentColor" className="w-5 h-5"><rect x="6" y="4" width="4" height="16" /><rect x="14" y="4" width="4" height="16" /></svg>
                                                ) : (
                                                    <svg viewBox="0 0 24 24" fill="currentColor" className="w-5 h-5 ml-1"><polygon points="5 3 19 12 5 21 5 3" /></svg>
                                                )}
                                            </button>
                                        </div>
                                    </div>
                                )}
                            </div>
                        </div>
                    )}
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
